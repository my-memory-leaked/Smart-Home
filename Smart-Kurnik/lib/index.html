<html><head>
  <title>Smart Domek</title>
  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body bgcolor = "#434242">

  <div id="information" style="color:#22A39F; font-family: Georgia; font-size: 40px; margin: auto; text-align: center;">
  <h4>Smart Domek</h4>
  </div>

  <div id = "temperature" style="color:#22A39F; font-family: Georgia; font-size: 20px; margin: auto; text-align: center; margin-top: 30px;"> Temperatura wewnątrz domku: </div>  
  <div id = "temperatureReading" style="color:#F3EFE0; font-family: Georgia; font-size: 25px; margin: auto; text-align: center;"><span id="temperatureValue">0</span>&degC</div>

  <div id = "temperature" style="color:#22A39F; font-family: Georgia; font-size: 20px; margin: auto; text-align: center; margin-top: 30px;"> Ilość zwierząt w domku: </div>  
  <div id = "animalsInside" style="color:#F3EFE0; font-family: Georgia; font-size: 25px; margin: auto; text-align: center;"><span id="animalsInsideVal">0</span></div>

  <br>
  <div id = "doorState" style="color:#22A39F; font-family: Georgia; font-size: 18px; margin: auto; text-align: center; margin-top: auto; margin-bottom: 10px;"> Aktualny stan drzwi: </div>  

  <form action='/get' method='GET'style="display: flex; align-items: center; justify-content: center;">
    <button type='button submit' name='OFF' value='1' style="font-family: Georgia; margin: 12px; margin-top: auto; padding: 14px; height:px; background-color: red; color: black; border: none; border-radius: 50px;font-size: 14px"><h4>Zamknięte</h4></button>
  </form>

  <br>
  <div id="xd" style="display: flex; margin: auto; text-align: center; ; justify-content: center; align-items: center;">
  <form action='/get' method='GET'>
    <button type='button submit' name='OPEN' value='1' style="font-family: Georgia; background-color:#22A39F; border: none;border-radius: 4px; text-align: center; padding: 15px; float: left;">Otwórz drzwi :)</button>
    <button type='button submit' name='CLOSE' value='1' style="font-family: Georgia; background-color:#22A39F; border: none;border-radius: 4px; margin-left: 50px; text-align: center; padding: 15px;float: auto">Zamknij drzwi :(</button>
  </form>   
  </div>

  <div id="doorError" style="color:red; font-family: Georgia; font-size: 32px; margin: auto; text-align: center;">Door Error!!!</div>

 <script>
 setInterval(function() {getSensorData(); getAnimalCounter(); }, 1000);
 function getSensorData() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("temperatureValue").innerHTML = this.responseText;
    } }; 
    xhttp.open("GET", "temperatureReading", true); xhttp.send();
}
function getAnimalCounter() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("animalsInside").innerHTML = this.responseText;
    }};
   xhttp.open("GET", "animalsInside", true); xhttp.send();
}
 </script>


</body>
</html>